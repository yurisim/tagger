<div class="max-w-4xl mx-auto p-6 bg-gray-100 min-h-screen">
  <!-- Header -->
  <div class="text-center mb-8">
    <h1 class="text-3xl font-bold text-indigo-600 flex items-center justify-center gap-2">
      <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
      </svg>
      Text Tag Generator
    </h1>
  </div>

  <!-- Input Section -->
  <div class="bg-white rounded-lg shadow-md p-6 mb-6">
    <label for="textInput" class="block text-sm font-medium text-gray-700 mb-2">Enter your text:</label>
    <textarea
      id="textInput"
      [(ngModel)]="inputText"
      [placeholder]="placeholderText"
      class="w-full h-40 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"
    ></textarea>
    
    <div class="mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4">
      <p class="text-sm text-yellow-700 italic">
        Click here to load a sample text about machine learning
      </p>
    </div>
  </div>

  <!-- Options Section -->
  <div class="bg-white rounded-lg shadow-md p-6 mb-6">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Max Tags -->
      <div>
        <label for="maxTags" class="block text-sm font-medium text-gray-700 mb-2">Max Tags:</label>
        <input
          id="maxTags"
          type="number"
          [(ngModel)]="maxTags"
          min="1"
          max="50"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
        />
      </div>

      <!-- Min Word Length -->
      <div>
        <label for="minWordLength" class="block text-sm font-medium text-gray-700 mb-2">Min Word Length:</label>
        <input
          id="minWordLength"
          type="number"
          [(ngModel)]="minWordLength"
          min="1"
          max="10"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
        />
      </div>

      <!-- Min Frequency -->
      <div>
        <label for="minFrequency" class="block text-sm font-medium text-gray-700 mb-2">Min Frequency:</label>
        <input
          id="minFrequency"
          type="number"
          [(ngModel)]="minFrequency"
          min="1"
          max="10"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
        />
      </div>

      <!-- Include Phrases -->
      <div>
        <label for="includePhrases" class="block text-sm font-medium text-gray-700 mb-2">Include Phrases:</label>
        <select
          id="includePhrases"
          [(ngModel)]="includeNgrams"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
        >
          <option [value]="true">Yes</option>
          <option [value]="false">No</option>
        </select>
      </div>

      <!-- Phrase Size -->
      <div>
        <label for="phraseSize" class="block text-sm font-medium text-gray-700 mb-2">Phrase Size:</label>
        <input
          id="phraseSize"
          type="number"
          [(ngModel)]="ngramSize"
          min="2"
          max="5"
          [disabled]="!includeNgrams"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100"
        />
      </div>

      <!-- Case Sensitive -->
      <div>
        <label for="caseSensitive" class="block text-sm font-medium text-gray-700 mb-2">Case Sensitive:</label>
        <select
          id="caseSensitive"
          [(ngModel)]="caseSensitive"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
        >
          <option [value]="false">No</option>
          <option [value]="true">Yes</option>
        </select>
      </div>
    </div>

    <!-- Generate Button -->
    <div class="mt-6 text-center">
      <button
        (click)="generateTags()"
        class="px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 flex items-center gap-2 mx-auto"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
        Generate Tags
      </button>
    </div>
  </div>

  <!-- Results Section -->
  <div *ngIf="generatedTags.length > 0" class="space-y-6">
    <!-- Generated Tags -->
    <div class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Generated Tags</h2>
      <div class="flex flex-wrap gap-2">
        <div
          *ngFor="let tag of generatedTags"
          class="inline-flex items-center gap-2 px-4 py-2 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium hover:bg-indigo-200 transition-colors duration-200"
        >
          {{ tag.tag }}
          <span class="text-xs bg-indigo-600 text-white px-2 py-1 rounded-full">
            {{ getScorePercentage(tag.score) }}%
          </span>
        </div>
      </div>
    </div>

    <!-- Detailed Results Table -->
    <div class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Detailed Results</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full">
          <thead>
            <tr class="bg-indigo-600 text-white">
              <th class="px-6 py-3 text-left text-sm font-medium">Tag</th>
              <th class="px-6 py-3 text-left text-sm font-medium">Score</th>
              <th class="px-6 py-3 text-left text-sm font-medium">Frequency</th>
              <th class="px-6 py-3 text-left text-sm font-medium">Type</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr *ngFor="let tag of generatedTags" class="hover:bg-gray-50">
              <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ tag.tag }}</td>
              <td class="px-6 py-4 text-sm text-gray-600">{{ getFormattedScore(tag.score) }}</td>
              <td class="px-6 py-4 text-sm text-gray-600">{{ tag.frequency }}</td>
              <td class="px-6 py-4 text-sm">
                <span
                  [ngClass]="{
                    'text-blue-600': tag.type === 'word',
                    'text-green-600': tag.type === 'phrase'
                  }"
                >
                  {{ tag.type }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
